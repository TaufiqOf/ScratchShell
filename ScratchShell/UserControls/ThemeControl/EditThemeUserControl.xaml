<ui:ContentDialog
    x:Class="ScratchShell.UserControls.ThemeControl.EditThemeUserControl"
    xmlns="http://schemas.microsoft.com/winfx/2006/xaml/presentation"
    xmlns:x="http://schemas.microsoft.com/winfx/2006/xaml"
    xmlns:colorPicker="clr-namespace:ColorPicker;assembly=ColorPicker"
    xmlns:d="http://schemas.microsoft.com/expression/blend/2008"
    xmlns:helpers="clr-namespace:ScratchShell.Helpers"
    xmlns:local="clr-namespace:ScratchShell.UserControls.ThemeControl"
    xmlns:mc="http://schemas.openxmlformats.org/markup-compatibility/2006"
    xmlns:ui="http://schemas.lepo.co/wpfui/2022/xaml"
    PrimaryButtonText="Save"
    mc:Ignorable="d">
    <ui:ContentDialog.Resources>
        <Style BasedOn="{StaticResource {x:Type ui:ContentDialog}}" TargetType="{x:Type local:EditThemeUserControl}" />
    </ui:ContentDialog.Resources>
    <ScrollViewer
        CanContentScroll="False"
        HorizontalScrollBarVisibility="Disabled"
        PanningMode="VerticalOnly"
        VerticalScrollBarVisibility="Auto">
        <ui:Card
            Margin="0,0,16,0"
            HorizontalAlignment="Stretch"
            VerticalAlignment="Top"
            VerticalContentAlignment="Top">
            <StackPanel VerticalAlignment="Top">
                <!--  Header  -->
                <Grid Margin="0,0,0,16">
                    <Grid.ColumnDefinitions>
                        <ColumnDefinition Width="*" />
                        <ColumnDefinition Width="Auto" />
                        <ColumnDefinition Width="Auto" />
                    </Grid.ColumnDefinitions>
                    <StackPanel Orientation="Horizontal">
                        <ui:SymbolIcon
                            Margin="0,0,8,0"
                            FontSize="20"
                            Symbol="Settings24" />
                        <TextBlock
                            VerticalAlignment="Center"
                            FontSize="16"
                            FontWeight="SemiBold"
                            Text="{helpers:Localized Theme_TerminalTheme}" />
                    </StackPanel>
                </Grid>

                <!--  Theme Details Section  -->
                <ui:Card Margin="0,0,0,12" Padding="12">
                    <StackPanel>
                        <TextBlock
                            Margin="0,0,0,12"
                            FontSize="14"
                            FontWeight="Medium"
                            Foreground="{DynamicResource TextFillColorSecondaryBrush}"
                            Text="{helpers:Localized Theme_ThemeDetails}" />

                        <!--  Theme Name  -->
                        <Grid Margin="0,0,0,8">
                            <Grid.ColumnDefinitions>
                                <ColumnDefinition Width="80" />
                                <ColumnDefinition Width="*" />
                            </Grid.ColumnDefinitions>
                            <TextBlock
                                VerticalAlignment="Center"
                                FontWeight="Medium"
                                Text="Name:" />
                            <ui:TextBox
                                x:Name="ThemeNameTextBox"
                                Grid.Column="1"
                                PlaceholderText="Enter theme name" />
                        </Grid>

                        <!--  Theme Description  -->
                        <Grid Margin="0,0,0,8">
                            <Grid.ColumnDefinitions>
                                <ColumnDefinition Width="80" />
                                <ColumnDefinition Width="*" />
                            </Grid.ColumnDefinitions>
                            <TextBlock
                                VerticalAlignment="Center"
                                FontWeight="Medium"
                                Text="Description:" />
                            <ui:TextBox
                                x:Name="ThemeDescriptionTextBox"
                                Grid.Column="1"
                                PlaceholderText="Enter theme description" />
                        </Grid>
                    </StackPanel>
                </ui:Card>
                <!--  Preview Section  -->
                <ui:Card Margin="0,0,0,12" Padding="12">
                    <StackPanel>
                        <!--  Theme Presets  -->
                        <TextBlock
                            Margin="0,0,0,8"
                            FontSize="12"
                            FontWeight="Medium"
                            Text="{helpers:Localized Theme_PredefinedThemes}" />
                        <Grid>
                            <Grid.ColumnDefinitions>
                                <ColumnDefinition Width="*" />
                                <ColumnDefinition Width="*" />
                                <ColumnDefinition Width="*" />
                            </Grid.ColumnDefinitions>

                            <ui:Button
                                x:Name="DarkThemeButton"
                                Grid.Column="0"
                                Margin="0,0,4,0"
                                Appearance="Secondary"
                                Click="DarkThemeButton_Click"
                                Content="{helpers:Localized Theme_Dark}"
                                Icon="{ui:SymbolIcon WeatherMoon16}"
                                ToolTip="{helpers:Localized Tooltip_PreviewDarkTheme}" />


                            <ui:Button
                                x:Name="LightThemeButton"
                                Grid.Column="1"
                                Margin="2,0,2,0"
                                Appearance="Secondary"
                                Click="LightThemeButton_Click"
                                Content="{helpers:Localized Theme_Light}"
                                Icon="{ui:SymbolIcon WeatherSunny16}"
                                ToolTip="{helpers:Localized Tooltip_PreviewLightTheme}" />


                            <ui:Button
                                x:Name="MonokaiThemeButton"
                                Grid.Column="2"
                                Margin="4,0,0,0"
                                Appearance="Secondary"
                                Click="MonokaiThemeButton_Click"
                                Content="{helpers:Localized Theme_Monokai}"
                                Icon="{ui:SymbolIcon ColorBackground20}"
                                ToolTip="{helpers:Localized Tooltip_PreviewMonokaiTheme}" />
                        </Grid>

                        <!--  Enhanced Terminal Preview  -->
                        <local:TerminalPreviewControl
                            x:Name="TerminalPreview"
                            Height="180"
                            Margin="0,10"
                            Theme="{Binding PreviewTheme, RelativeSource={RelativeSource AncestorType=local:EditThemeUserControl}}" />

                        <!--  Preview Controls  -->
                        <Grid Margin="0,0,0,0">
                            <Grid.ColumnDefinitions>
                                <ColumnDefinition Width="*" />
                                <ColumnDefinition Width="Auto" />
                            </Grid.ColumnDefinitions>


                            <ui:Button
                                x:Name="ResetThemeButton"
                                Grid.Column="1"
                                Appearance="Secondary"
                                Click="ResetThemeButton_Click"
                                Content="{helpers:Localized Theme_Reset}"
                                Icon="{ui:SymbolIcon ArrowReset20}"
                                ToolTip="{helpers:Localized Tooltip_ResetTheme}" />
                        </Grid>
                    </StackPanel>
                </ui:Card>
                <!--  Font Settings Section  -->
                <ui:Card Margin="0,0,0,12" Padding="12">
                    <StackPanel>
                        <TextBlock
                            Margin="0,0,0,12"
                            FontSize="14"
                            FontWeight="Medium"
                            Foreground="{DynamicResource TextFillColorSecondaryBrush}"
                            Text="{helpers:Localized Theme_FontSettings}" />

                        <!--  Font Family  -->
                        <Grid Margin="0,0,0,8">
                            <Grid.ColumnDefinitions>
                                <ColumnDefinition Width="80" />
                                <ColumnDefinition Width="*" />
                            </Grid.ColumnDefinitions>
                            <TextBlock
                                VerticalAlignment="Center"
                                FontWeight="Medium"
                                Text="{helpers:Localized Theme_FontFamily}" />
                            <ComboBox
                                x:Name="FontFamilyComboBox"
                                Grid.Column="1"
                                SelectionChanged="FontFamilyComboBox_SelectionChanged" />
                        </Grid>

                        <!--  Font Size  -->
                        <Grid Margin="0,0,0,8">
                            <Grid.ColumnDefinitions>
                                <ColumnDefinition Width="80" />
                                <ColumnDefinition Width="*" />
                            </Grid.ColumnDefinitions>
                            <TextBlock
                                VerticalAlignment="Center"
                                FontWeight="Medium"
                                Text="{helpers:Localized Theme_FontSize}" />
                            <ComboBox
                                x:Name="FontSizeComboBox"
                                Grid.Column="1"
                                SelectionChanged="FontSizeComboBox_SelectionChanged">
                                <ComboBoxItem Content="8" />
                                <ComboBoxItem Content="9" />
                                <ComboBoxItem Content="10" />
                                <ComboBoxItem Content="11" />
                                <ComboBoxItem Content="12" />
                                <ComboBoxItem Content="14" />
                                <ComboBoxItem Content="16" />
                                <ComboBoxItem Content="18" />
                                <ComboBoxItem Content="20" />
                                <ComboBoxItem Content="22" />
                                <ComboBoxItem Content="24" />
                                <ComboBoxItem Content="26" />
                                <ComboBoxItem Content="28" />
                                <ComboBoxItem Content="32" />
                                <ComboBoxItem Content="36" />
                                <ComboBoxItem Content="48" />
                                <ComboBoxItem Content="72" />
                            </ComboBox>
                        </Grid>
                    </StackPanel>
                </ui:Card>

                <!--  Color Settings Section  -->
                <ui:Card Margin="0,0,0,12" Padding="12">
                    <StackPanel>
                        <TextBlock
                            Margin="0,0,0,12"
                            FontSize="14"
                            FontWeight="Medium"
                            Foreground="{DynamicResource TextFillColorSecondaryBrush}"
                            Text="{helpers:Localized Theme_ColorSettings}" />

                        <!--  Color Type Selection  -->
                        <Grid Margin="0,0,0,12">
                            <Grid.ColumnDefinitions>
                                <ColumnDefinition Width="80" />
                                <ColumnDefinition Width="*" />
                            </Grid.ColumnDefinitions>
                            <TextBlock
                                VerticalAlignment="Center"
                                FontWeight="Medium"
                                Text="{helpers:Localized Theme_ColorEditing}" />
                            <ComboBox
                                x:Name="ColorTypeComboBox"
                                Grid.Column="1"
                                SelectionChanged="ColorTypeComboBox_SelectionChanged">
                                <ComboBoxItem Content="{helpers:Localized Theme_TextColor}" Tag="Foreground" />
                                <ComboBoxItem Content="{helpers:Localized Theme_BackgroundColor}" Tag="Background" />
                                <ComboBoxItem Content="{helpers:Localized Theme_SelectionColor}" Tag="Selection" />
                                <ComboBoxItem Content="{helpers:Localized Theme_CursorColor}" Tag="Cursor" />
                                <ComboBoxItem Content="{helpers:Localized Theme_CopyHighlightColor}" Tag="CopySelection" />
                            </ComboBox>
                        </Grid>

                        <!--  Color Previews  -->
                        <Grid Margin="0,0,0,12">
                            <Grid.ColumnDefinitions>
                                <ColumnDefinition Width="*" />
                                <ColumnDefinition Width="*" />
                                <ColumnDefinition Width="*" />
                                <ColumnDefinition Width="*" />
                                <ColumnDefinition Width="*" />
                            </Grid.ColumnDefinitions>

                            <!--  Foreground Preview  -->
                            <StackPanel Grid.Column="0" Margin="0,0,2,0">
                                <TextBlock
                                    Margin="0,0,0,4"
                                    HorizontalAlignment="Center"
                                    FontSize="10"
                                    Text="{helpers:Localized Theme_Text}" />
                                <Border
                                    x:Name="ForegroundPreview"
                                    Height="32"
                                    BorderBrush="{DynamicResource ControlStrokeColorDefaultBrush}"
                                    BorderThickness="1"
                                    CornerRadius="4"
                                    Cursor="Hand"
                                    MouseLeftButtonDown="ForegroundPreview_MouseLeftButtonDown">
                                    <TextBlock
                                        HorizontalAlignment="Center"
                                        VerticalAlignment="Center"
                                        FontSize="9"
                                        FontWeight="Medium"
                                        Text="Sample" />
                                </Border>
                            </StackPanel>

                            <!--  Background Preview  -->
                            <StackPanel Grid.Column="1" Margin="1,0,1,0">
                                <TextBlock
                                    Margin="0,0,0,4"
                                    HorizontalAlignment="Center"
                                    FontSize="10"
                                    Text="{helpers:Localized Theme_Background}" />
                                <Border
                                    x:Name="BackgroundPreview"
                                    Height="32"
                                    BorderBrush="{DynamicResource ControlStrokeColorDefaultBrush}"
                                    BorderThickness="1"
                                    CornerRadius="4"
                                    Cursor="Hand"
                                    MouseLeftButtonDown="BackgroundPreview_MouseLeftButtonDown" />
                            </StackPanel>

                            <!--  Selection Preview  -->
                            <StackPanel Grid.Column="2" Margin="1,0,1,0">
                                <TextBlock
                                    Margin="0,0,0,4"
                                    HorizontalAlignment="Center"
                                    FontSize="10"
                                    Text="{helpers:Localized Theme_Selection}" />
                                <Border
                                    x:Name="SelectionPreview"
                                    Height="32"
                                    BorderBrush="{DynamicResource ControlStrokeColorDefaultBrush}"
                                    BorderThickness="1"
                                    CornerRadius="4"
                                    Cursor="Hand"
                                    MouseLeftButtonDown="SelectionPreview_MouseLeftButtonDown">
                                    <TextBlock
                                        HorizontalAlignment="Center"
                                        VerticalAlignment="Center"
                                        FontSize="9"
                                        FontWeight="Medium"
                                        Foreground="White"
                                        Text="Selected" />
                                </Border>
                            </StackPanel>

                            <!--  Cursor Preview  -->
                            <StackPanel Grid.Column="3" Margin="1,0,1,0">
                                <TextBlock
                                    Margin="0,0,0,4"
                                    HorizontalAlignment="Center"
                                    FontSize="10"
                                    Text="{helpers:Localized Theme_Cursor}" />
                                <Border
                                    x:Name="CursorPreview"
                                    Height="32"
                                    BorderBrush="{DynamicResource ControlStrokeColorDefaultBrush}"
                                    BorderThickness="1"
                                    CornerRadius="4"
                                    Cursor="Hand"
                                    MouseLeftButtonDown="CursorPreview_MouseLeftButtonDown">
                                    <TextBlock
                                        HorizontalAlignment="Center"
                                        VerticalAlignment="Center"
                                        FontSize="9"
                                        FontWeight="Medium"
                                        Foreground="Black"
                                        Text="?" />
                                </Border>
                            </StackPanel>

                            <!--  Copy Selection Preview  -->
                            <StackPanel Grid.Column="4" Margin="2,0,0,0">
                                <TextBlock
                                    Margin="0,0,0,4"
                                    HorizontalAlignment="Center"
                                    FontSize="10"
                                    Text="{helpers:Localized Theme_Copy}" />
                                <Border
                                    x:Name="CopySelectionPreview"
                                    Height="32"
                                    BorderBrush="{DynamicResource ControlStrokeColorDefaultBrush}"
                                    BorderThickness="1"
                                    CornerRadius="4"
                                    Cursor="Hand"
                                    MouseLeftButtonDown="CopySelectionPreview_MouseLeftButtonDown">
                                    <TextBlock
                                        HorizontalAlignment="Center"
                                        VerticalAlignment="Center"
                                        FontSize="9"
                                        FontWeight="Medium"
                                        Foreground="White"
                                        Text="Copied" />
                                </Border>
                            </StackPanel>
                        </Grid>

                        <!--  Color Picker  -->
                        <colorPicker:StandardColorPicker
                            x:Name="MainColorPicker"
                            Width="300"
                            Height="280"
                            Margin="0,8,0,0"
                            HorizontalAlignment="Center"
                            ColorChanged="MainColorPicker_ColorChanged"
                            ShowAlpha="False" />

                        <!--  Terminal Color Presets  -->
                        <TextBlock
                            Margin="0,12,0,8"
                            FontSize="12"
                            FontWeight="Medium"
                            Text="{helpers:Localized Theme_TerminalPresets}" />
                        <WrapPanel x:Name="ColorPresetsPanel" />


                    </StackPanel>
                </ui:Card>


            </StackPanel>
        </ui:Card>
    </ScrollViewer>
</ui:ContentDialog>